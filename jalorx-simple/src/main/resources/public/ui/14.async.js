(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"39+z":function(e,t,a){"use strict";var r=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("miYZ");var n=l(a("tsqr"));a("y8nQ");var u=l(a("Vl3Y")),d=l(a("q1tI")),o=a("7DNP"),f=a("MuoO"),i=l(a("k4F7")),p=r(a("vqE5")),s=(u.default.Item,function(e){var t=e.wfBook,a=(e.location,e.dispatch),r=(e.loading,{}),l=t.currentItem;t.dataSource;"update"===t.modalType&&(r=l);var u=function(e){var t="bookWorkflow";if(e.id){var r={},l={};l.processDefId=t,r.flow=l,r.bookId=e.id,r.processName=e.name,r.id="",p.startForm(r).then(function(e){e&&(n.default.success("\u5ba1\u6838\u6210\u529f\uff01"),a(o.routerRedux.push({pathname:"/development/book",payload:{}})))})}else n.default.warning("\u8bf7\u5148\u4fdd\u5b58\u5355\u636e\u7684\u6570\u636e\uff0c\u518d\u53d1\u8d77\u5ba1\u6279\uff01")};return d.default.createElement(i.default,{dispatch:a,data:r,handleApprove:function(){return u(r)},flag:0})}),c=(0,f.connect)(function(e){var t=e.wfBook,a=e.loading;return{wfBook:t,loading:a}})(s);t.default=c},k4F7:function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var l=r(a("2/Rp"));a("14J3");var n=r(a("BMrR"));a("jCWc");var u=r(a("kPKH"));a("5NDa");var d=r(a("5rEg")),o=r(a("lwsE")),f=r(a("W8MJ")),i=r(a("a1gu")),p=r(a("Nsbk")),s=r(a("7W2i")),c=r(a("PJYZ"));a("y8nQ");var h=r(a("Vl3Y")),v=r(a("q1tI")),m=a("+n12"),y=a("7DNP"),k=h.default.Item,w=function(e){function t(){var e,a;(0,o.default)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=(0,i.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(l))),a.state={data:{},display:""},a.handleSave=function(e){e.preventDefault();var t=a.props,r=t.form,l=t.dispatch;r.validateFields(function(e,t){e||(void 0===t.id?l({type:"wfBook/create",payload:t}):l({type:"wfBook/update",payload:t}))})},a.handleBack=function(){var e=a.props.dispatch;e(y.routerRedux.push({pathname:"/development/book"}))},a.handleApprove=function(e){e.preventDefault();var t=a.props.form,r=(0,c.default)((0,c.default)(a));t.validateFields(function(e,t){e||r.props.handleApprove(t)})},a}return(0,s.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.flag,a=this;t&&0!==t&&a.setState({display:"none"})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.display,a=this.props,r=a.data,o=a.flag;return v.default.createElement(h.default,null,v.default.createElement(n.default,null,v.default.createElement(u.default,{span:"10"},v.default.createElement(k,{label:"\u540d\u79f0\uff1a",labelCol:{span:5},wrapperCol:{span:15},hasFeedback:!0},e("name",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u540d\u79f0"}],initialValue:r.name})(v.default.createElement(d.default,{type:"text",placeholder:"\u540d\u79f0",disabled:2==o}))),v.default.createElement(k,{label:"\u63cf\u8ff0\uff1a",labelCol:{span:5},wrapperCol:{span:15},hasFeedback:!0},e("remark",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u63cf\u8ff0"}],initialValue:r.remark})(v.default.createElement(d.default,{type:"input",placeholder:"remark",disabled:2==o}))))),v.default.createElement(n.default,null,e("id")(v.default.createElement(d.default,{type:"hidden"})),v.default.createElement(u.default,{offset:4},v.default.createElement(l.default,{onClick:this.handleSave,style:{display:t},type:"primary",htmlType:"submit"},"\u4fdd\u5b58"),v.default.createElement("span",null,"\xa0"),v.default.createElement(l.default,{onClick:this.handleBack,style:{display:t}},"\u8fd4\u56de"))),v.default.createElement(n.default,null,v.default.createElement(u.default,{offset:4},v.default.createElement(l.default,{onClick:this.handleApprove,style:{display:t}},"\u63d0\u4ea4\u5ba1\u6838"))))}}]),t}(v.default.Component),b=(0,m.createDataForm)(w),E=b;t.default=E},vqE5:function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.get=i,t.update=s,t.startForm=h,t.approve=m,t.default=void 0;var l=r(a("o0o1")),n=r(a("yXPU")),u=r(a("DaZK")),d=r(a("t3Un")),o=(0,u.default)("wfdemo/bookWorkflow"),f="/services";function i(e){return p.apply(this,arguments)}function p(){return p=(0,n.default)(l.default.mark(function e(t){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.get(t));case 1:case"end":return e.stop()}},e,this)})),p.apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return c=(0,n.default)(l.default.mark(function e(t){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.update(t));case 1:case"end":return e.stop()}},e,this)})),c.apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return v=(0,n.default)(l.default.mark(function e(t){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.default)("".concat(f,"/wfdemo/bookWorkflow/process"),{body:t,method:"POST"}));case 1:case"end":return e.stop()}},e,this)})),v.apply(this,arguments)}function m(e){return y.apply(this,arguments)}function y(){return y=(0,n.default)(l.default.mark(function e(t){return l.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o.approve(t));case 1:case"end":return e.stop()}},e,this)})),y.apply(this,arguments)}var k=o;t.default=k}}]);